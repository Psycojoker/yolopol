{% extends 'representatives_votes/dossier_detail.html' %}

{% load i18n %}
{% load bootstrap3 %}
{% load memopol_tags %}

{% block dossier_content %}

  <table class="table table-responsive">
    <tr>
      <th>{% trans "Proposal" %}</th>
      <th>{% trans "Recommendation" %}</th>
      <th>{% trans "Weight" %}</th>
      <th>{% trans "Status" %}</th>
      <th>{{ "for"|position_icon }}</th>
      <th>{{ "against"|position_icon }}</th>
      <th>{{ "abstain"|position_icon }}</th>
      <th>{% trans "Themes" %}</th>
    </tr>

    {% for proposal in proposals %}
      <tr class="proposal">
        <td>
          {{ proposal.title }}
          <br>
          <small>
            {{ proposal.reference }}
          </small>
        </td>

        <td class="text-center">{{ proposal.recommendation.recommendation|position_icon }}</td>
        <td class="text-center">
          {{ proposal.recommendation.weight }}&nbsp;<a data-toggle="tooltip" data-placement="top" title="{{ proposal.recommendation.title }}">{% bootstrap_icon "info-sign" %}</a>
        </td>

        <td>{{ proposal.status }}</td>
        <td>{{ proposal.total_for }}</td>
        <td>{{ proposal.total_against }}</td>
        <td>{{ proposal.total_abstain }}</td>
        <td>
          {% include "blocks/_themetags.html" with themes=proposal.themes.all %}
        </td>
      </tr>
    {% endfor %}
  </table>

{% endblock %}
